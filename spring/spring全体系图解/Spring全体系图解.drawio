<mxfile host="65bd71144e">
    <diagram id="aa8ChijFXmU96o4McfUh" name="Page-1">
        <mxGraphModel dx="2532" dy="1234" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1000000" pageHeight="1000000" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="31" value="&lt;span style=&quot;font-size: 24px&quot;&gt;BeanFacory&lt;/span&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry x="4250" y="830" width="1530" height="860" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="Spring全体系图解" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="120" y="455" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="10" style="edgeStyle=none;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;fontColor=default;fontSize=24;" parent="1" source="4" target="9" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;ApplicationContext context = new ClasPathXmlApplicationContext(&quot;applicationContext.xml&quot;)&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="40" y="540" width="800" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="ApplicationContext" style="whiteSpace=wrap;html=1;fontSize=24;fontColor=default;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="910" y="680" width="1780" height="1370" as="geometry"/>
                </mxCell>
                <mxCell id="12" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=default;elbow=vertical;fontSize=24;" parent="1" source="9" target="11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="创建Spring应用程序上下文" style="whiteSpace=wrap;html=1;fontColor=default;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="910" y="535" width="300" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="调用构造方法" style="whiteSpace=wrap;html=1;fontColor=default;verticalAlign=top;fontSize=24;" parent="1" vertex="1">
                    <mxGeometry x="940" y="730" width="710" height="370" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="1.调用父类构造方法创建PathMatchingResourcePatternReslover,解析配置文件" style="whiteSpace=wrap;html=1;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="965" y="770" width="655" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="2.设置配置文件路径到当前应用程序中" style="whiteSpace=wrap;html=1;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="965" y="880" width="660" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="20" style="edgeStyle=elbowEdgeStyle;elbow=vertical;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;fontSize=24;fontColor=default;" parent="1" source="15" target="16" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="3.开始进入容器的创建和刷新环节refresh()" style="whiteSpace=wrap;html=1;fontSize=24;fontColor=default;" parent="1" vertex="1">
                    <mxGeometry x="965" y="990" width="660" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="" style="whiteSpace=wrap;html=1;fontSize=24;verticalAlign=top;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1750" y="1030" width="610" height="840" as="geometry"/>
                </mxCell>
                <mxCell id="23" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=24;fontColor=default;" parent="1" source="21" target="22" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="89" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=24;" edge="1" parent="1" source="21" target="25">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="21" value="1.prepareRefresh()&lt;br&gt;做容器刷新前的准备工作" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="1860" y="1050" width="350" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="1.设置容器的启动时间&lt;br&gt;2.设置活跃的状态为true&lt;br&gt;3.设置关闭状态为false&lt;br&gt;4.获取Environment对象，并且加载当前系统的属性值到Environment对象中&lt;br&gt;5.准备监听器和事件的集合对象，默认为空集合" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2740" y="850" width="810" height="190" as="geometry"/>
                </mxCell>
                <mxCell id="67" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=24;" edge="1" parent="1" source="24" target="66">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="92" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=24;" edge="1" parent="1" source="24" target="81">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="3.prepareBeanFactory给容器对象完成属性的赋值操作" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="1860" y="1252.5" width="350" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="29" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontSize=24;fontColor=default;" parent="1" source="25" target="26" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="30" style="edgeStyle=elbowEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=24;fontColor=default;" parent="1" source="25" target="28" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=24;" edge="1" parent="1" source="25" target="24">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="2.obtainFreshBeanFactory&lt;br&gt;创建容器，并且完成配置文件的加载" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
                    <mxGeometry x="1830" y="1150" width="410" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="38" style="edgeStyle=elbowEdgeStyle;html=1;exitX=0;exitY=0;exitDx=790;exitDy=30;exitPerimeter=0;entryX=0.001;entryY=0.028;entryDx=0;entryDy=0;fontSize=24;entryPerimeter=0;" edge="1" parent="1" source="26" target="31">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3650" y="1030"/>
                            <mxPoint x="3870" y="950"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="48" value="创建容器对象" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=24;" vertex="1" connectable="0" parent="38">
                    <mxGeometry x="0.2081" y="-5" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="26" value="creatBeanFactory():DefatulLisableBeanFactory" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2735" y="1080" width="790" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="63" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=24;" edge="1" parent="1" source="28" target="62">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="loadBeanDefinitions():加载配置文件" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;align=left;" parent="1" vertex="1">
                    <mxGeometry x="2735" y="1150" width="800" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="BeanDefinitionNames&lt;br&gt;存放beanDefinition的名称集合" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4815" y="880" width="330" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="&lt;font style=&quot;font-size: 24px&quot;&gt;BeanDefinitionMap&lt;/font&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry x="4335" y="880" width="360" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="Key:&lt;br&gt;beanName" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4335" y="930" width="180" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="54" value="Value:&lt;br&gt;BeanDefinition" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4515" y="930" width="180" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="64" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="62" target="53">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="65" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="62" target="37">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4220" y="1180"/>
                            <mxPoint x="4220" y="1100"/>
                            <mxPoint x="4980" y="1100"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="62" value="&lt;span style=&quot;text-align: center ; font-family: &amp;#34;helvetica&amp;#34; ; background-color: rgb(255 , 255 , 255)&quot;&gt;完成BeanDefinition的加载和解析工作&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=24;align=left;fillColor=#ffff88;strokeColor=#36393d;verticalAlign=top;" vertex="1" parent="1">
                    <mxGeometry x="3650" y="1155" width="440" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="74" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="68">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1360"/>
                            <mxPoint x="4409" y="1360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="76" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="69">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1360"/>
                            <mxPoint x="4635" y="1360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="77" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="70">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1362"/>
                            <mxPoint x="4875" y="1362"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="78" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="71">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1360"/>
                            <mxPoint x="5135" y="1360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="79" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="72">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1359"/>
                            <mxPoint x="5355" y="1359"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="80" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0;exitY=0;exitDx=800;exitDy=30;exitPerimeter=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=24;" edge="1" parent="1" source="66" target="73">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3920" y="1250"/>
                            <mxPoint x="3920" y="1360"/>
                            <mxPoint x="5560" y="1360"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="66" value="通过一系列的add,set,ignore,register开头的方法，设置属性值" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;align=left;" vertex="1" parent="1">
                    <mxGeometry x="2735" y="1220" width="800" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="68" value="ExpressionReslover&lt;br&gt;SPEL表达式的解析器" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4297.5" y="1165" width="222.5" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="69" value="PropertyEditor&lt;br&gt;属性编辑器" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4540" y="1167.5" width="190" height="142.5" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="beanPostProcessors&lt;br&gt;BPP集合" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="4750" y="1167.5" width="250" height="145" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="ignoreDependency&lt;br&gt;Interfaces" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="5020" y="1167.5" width="230" height="142.5" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="resolvable&lt;br&gt;Dependencies" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="5270" y="1166.25" width="170" height="142.5" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="一级缓存" style="whiteSpace=wrap;html=1;fontSize=24;" vertex="1" parent="1">
                    <mxGeometry x="5460" y="1167.5" width="200" height="142.5" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=24;" edge="1" parent="1" source="81" target="82">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="81" value="4.postProcessBeanFactory&lt;br&gt;纯spring默认没有实现，留给子类进行实现" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
                    <mxGeometry x="1860" y="1370" width="350" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="84" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=24;" edge="1" parent="1" source="82" target="83">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="82" value="5.invokeBeanFactoryPostProcessor执行BFPP接口中的方法" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
                    <mxGeometry x="1820" y="1487.5" width="430" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="86" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=24;" edge="1" parent="1" source="83" target="85">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="87" style="edgeStyle=orthogonalEdgeStyle;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=24;" edge="1" parent="1" source="83" target="88">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="3340" y="1570" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="83" value="可以自由扩展，修改beanFacoty中的相关信息&lt;br&gt;但是使用最多的是对BeanDefinition的修改操作" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#ffff88;strokeColor=#36393d;fontColor=default;fontSize=24;align=center;" vertex="1" parent="1">
                    <mxGeometry x="2725" y="1322.5" width="795" height="165" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="configurationClassPostProcessor" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
                    <mxGeometry x="2710" y="1580" width="537.5" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="88" value="PropertySourcePlactHolderConfigurer" style="whiteSpace=wrap;html=1;fontSize=24;fillColor=#ffff88;strokeColor=#36393d;" vertex="1" parent="1">
                    <mxGeometry x="3260" y="1580" width="537.5" height="110" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>